# 펌웨어 업로드 가이드

ESP32 BLE Keyboard 라이브러리 설치가 완료되었습니다. 이제 펌웨어를 업로드하세요.

## ✅ 완료된 작업
- [x] ESP32 연결 완료 (COM10)
- [x] Arduino IDE 설치 완료
- [x] ESP32 보드 패키지 설치 완료
- [x] BLE Keyboard 라이브러리 설치 완료

## 🚀 펌웨어 업로드 단계

### Step 1: 펌웨어 파일 열기

1. **Arduino IDE 실행**

2. **파일 → 열기** (또는 `Ctrl + O`)

3. 다음 경로의 파일 열기:
   ```
   C:\hanjin\firmware\esp32_ble_hid.ino
   ```

4. 파일이 열리면 코드가 표시됩니다.

### Step 2: 보드 및 포트 설정

1. **도구 → 보드 → ESP32 Arduino → ESP32 Dev Module** 선택
   - 만약 "ESP32 Arduino"가 안 보이면:
     - ESP32 보드 패키지가 설치되지 않은 것
     - `QUICK_START.md`의 2단계 다시 확인

2. **도구 → 포트 → COM10** 선택
   - (또는 장치 관리자에서 확인한 실제 COM 포트 번호)

### Step 3: 업로드 설정 확인 (선택사항)

**도구 메뉴에서 다음 설정 확인**:
- **업로드 속도**: 115200 (기본값)
- **CPU 주파수**: 240MHz (기본값)
- **플래시 주파수**: 80MHz (기본값)
- **플래시 크기**: 4MB (기본값)
- **파티션 구성표**: Default 4MB with spiffs (기본값)

> 기본값으로도 충분합니다. 변경할 필요 없습니다.

### Step 4: 펌웨어 업로드

1. **스케치 → 업로드** 클릭 (또는 `Ctrl + U`)

2. **업로드 진행 대기**:
   - 컴파일 중... (약 30초~1분)
   - 업로드 중... (약 10~20초)
   - "업로드 완료" 메시지 확인

### Step 5: 업로드 문제 해결

#### 문제 1: "포트를 찾을 수 없습니다" 오류
**해결**:
- ESP32가 연결되어 있는지 확인
- 장치 관리자에서 COM 포트 확인
- 포트 번호가 변경되었을 수 있음 (다시 확인)

#### 문제 2: "업로드 실패" 오류
**해결**:
1. ESP32의 **BOOT 버튼** 찾기 (보드에 작은 버튼)
2. **BOOT 버튼을 누른 상태**에서 업로드 시작
3. "연결 중..." 메시지가 나오면 버튼 놓기

#### 문제 3: "보드를 찾을 수 없습니다" 오류
**해결**:
- ESP32 보드 패키지가 설치되었는지 확인
- 도구 → 보드 → ESP32 Arduino → ESP32 Dev Module 선택 확인

#### 문제 4: 컴파일 오류 (라이브러리 관련)
**해결**:
- Arduino IDE 재시작
- 라이브러리가 제대로 설치되었는지 확인
- 스케치 → 라이브러리 포함하기 → 라이브러리 관리에서 확인

## ✅ 업로드 성공 확인

업로드가 성공하면:

1. **시리얼 모니터 열기**:
   - **도구 → 시리얼 모니터** (또는 `Ctrl + Shift + M`)
   - 보레이트: **115200** 선택

2. **메시지 확인**:
   ```
   =================================
   ESP32 BLE HID 키보드 시작
   =================================
   블루투스 키보드 초기화 완료
   모바일 기기에서 '한진택배 스캐너'를 찾아 페어링하세요.
   블루투스 연결 대기 중...
   ```
   - 이 메시지가 보이면 성공!

## 📱 다음 단계: 블루투스 페어링

펌웨어 업로드가 완료되면:

1. **모바일 기기에서 블루투스 설정 열기**
2. **"한진택배 스캐너"** 찾기
3. **페어링** 클릭
4. **연결 완료 확인**

> 상세 가이드: `QUICK_START.md`의 4단계 참고

---

**문제가 있으면**: 시리얼 모니터의 오류 메시지를 확인하고, 위의 문제 해결 방법을 참고하세요.





