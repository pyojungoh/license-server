# ESP32 펌웨어 테스트 - 올바른 파일 사용 안내

## ⚠️ 중요: 올바른 파일 선택

**컴파일할 파일**: `esp32_ble_hid.ino` ✅  
**컴파일하지 말 것**: `esp32_ble_hid_backup.ino` ❌ (인코딩 문제로 컴파일 안 됨)

## 📝 Arduino IDE에서 올바른 파일 열기

### 방법 1: 파일 메뉴에서 열기
1. Arduino IDE 실행
2. **파일 → 열기** (Ctrl+O)
3. 다음 경로로 이동:
   ```
   C:\hanjin\firmware\esp32_ble_hid\
   ```
4. **`esp32_ble_hid.ino`** 파일 선택 (❌ backup 파일 아님!)

### 방법 2: 파일 탐색기에서 직접 열기
1. 파일 탐색기 열기
2. `C:\hanjin\firmware\esp32_ble_hid\` 폴더로 이동
3. **`esp32_ble_hid.ino`** 파일을 **더블클릭** (Arduino IDE에서 자동으로 열림)

## ✅ 파일 확인 방법

Arduino IDE 탭에 다음 중 하나만 보여야 합니다:
- ✅ `esp32_ble_hid` (올바른 파일)
- ❌ `esp32_ble_hid_backup` (잘못된 파일)

## 🔧 컴파일 테스트 순서

1. **올바른 파일 열기** (`esp32_ble_hid.ino`)
2. **스케치 → 검증/컴파일** (Ctrl+R)
3. 하단 메시지 확인

### 정상적인 컴파일 결과:
```
스케치가 컴파일되었습니다.
보드: ESP32 Dev Module
```

### 컴파일 오류가 발생하면:
오류 메시지를 확인하고 아래를 참고하세요.

## 🐛 잠재적 컴파일 오류 및 해결

### 오류 1: `BLEDevice::getServer() was not declared`
**원인**: BleKeyboard 라이브러리와 호환성 문제

**해결 방법**:
1. **스케치 → 라이브러리 포함하기 → 라이브러리 관리**
2. `ESP32 BLE Keyboard` 검색
3. 최신 버전으로 업데이트
4. 다시 컴파일

### 오류 2: `BLECharacteristicCallbacks` 관련 오류
**원인**: BLE 라이브러리 버전 불일치

**해결 방법**:
1. **도구 → 보드 → 보드 관리자**
2. `esp32` 검색
3. 최신 버전으로 업데이트
4. 다시 컴파일

### 오류 3: 한글 문자 인식 오류
**해결**: Arduino IDE 설정 확인
1. **파일 → 환경설정**
2. **에디터 언어**: 한국어 또는 영어로 설정
3. 코드의 한글 주석은 컴파일에 영향 없음

## 📋 테스트 체크리스트

- [ ] Arduino IDE에서 **`esp32_ble_hid.ino`** 파일 열기
- [ ] 파일 탭에 올바른 파일명 확인
- [ ] 보드: **ESP32 Dev Module** 선택 확인
- [ ] 포트: **COMx** 선택 확인 (ESP32 연결 시)
- [ ] 컴파일 성공 확인
- [ ] 업로드 성공 확인
- [ ] 시리얼 모니터에서 초기화 메시지 확인

## 💡 참고사항

- 백업 파일(`esp32_ble_hid_backup.ino`)은 이전 버전 저장용입니다
- 컴파일할 필요가 없습니다
- 현재 사용할 파일은 `esp32_ble_hid.ino` 하나뿐입니다

## 🆘 여전히 문제가 있으면

1. Arduino IDE를 완전히 종료하고 다시 실행
2. **파일 → 환경설정 → 스케치북 위치** 확인
3. 파일 경로에 한글이 포함되어 있는지 확인 (가능하면 영문 경로 사용)
4. 컴파일 오류 메시지 전체를 복사해서 공유해주세요




