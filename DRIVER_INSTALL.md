# CH340 드라이버 설치 가이드

ESP32 개발 보드를 PC에 연결하기 전에 CH340 USB-to-Serial 드라이버를 설치해야 합니다.

## 🔍 드라이버 확인 방법

### Windows 10/11 (대부분 자동 인식)
Windows 10/11은 대부분 CH340 드라이버를 자동으로 설치합니다.

1. **ESP32를 PC에 연결** (USB-C 케이블 사용)
2. **장치 관리자 확인**:
   - `Win + X` 키 누르기
   - **장치 관리자** 선택
   - **포트(COM & LPT)** 확장
   - **USB-SERIAL CH340 (COMx)** 표시되면 → ✅ **드라이버 설치 완료!**
   - **알 수 없는 장치** 또는 **느낌표(!)** 표시되면 → ❌ **드라이버 설치 필요**

## 📥 드라이버 다운로드

### 방법 1: 공식 사이트에서 다운로드 (추천)

1. **WCH 공식 사이트 방문**:
   - [CH340 드라이버 다운로드 페이지](http://www.wch.cn/downloads/CH341SER_EXE.html)
   - 또는 직접 링크: `http://www.wch.cn/download/CH341SER_EXE.html`

2. **다운로드**:
   - **CH341SER.EXE** 파일 다운로드
   - 최신 버전 다운로드 (보통 상단에 최신 버전)

### 방법 2: 대체 다운로드 사이트

- **GitHub**: [CH340 드라이버](https://github.com/WCHSoftGroup/ch34xser_linux)
- **다른 신뢰할 수 있는 사이트에서 검색**: "CH340 driver Windows"

## 🔧 드라이버 설치 방법

### Step 1: 다운로드한 파일 실행

1. 다운로드한 **CH341SER.EXE** 파일을 더블클릭
2. 관리자 권한 요청 시 **예** 클릭

### Step 2: 설치 진행

1. **INSTALL** 버튼 클릭
2. 설치 완료 메시지 확인
   - "The driver has been installed successfully!" 또는
   - "드라이버 설치 성공!"

### Step 3: ESP32 연결 및 확인

1. **ESP32를 PC에 연결** (아직 연결 안 했다면)
2. **장치 관리자 새로고침** (F5 키)
3. **포트(COM & LPT)** 확인:
   - ✅ **USB-SERIAL CH340 (COMx)** 표시되면 성공!
   - ❌ 여전히 문제가 있으면 아래 트러블슈팅 참고

## ✅ 설치 확인

### 방법 1: 장치 관리자에서 확인
- **포트(COM & LPT)** → **USB-SERIAL CH340 (COM3)** 같은 항목이 보이면 성공
- **COM 번호를 기록**해두세요 (나중에 설정 파일에서 사용)

### 방법 2: Arduino IDE에서 확인
1. Arduino IDE 실행
2. **도구 → 포트** 메뉴 확인
3. **COMx (USB-SERIAL CH340)** 항목이 보이면 성공

## 🐛 트러블슈팅

### 문제 1: "INSTALL" 버튼이 비활성화됨
**해결**:
- ESP32를 PC에서 **분리**한 상태에서 드라이버 설치
- 설치 완료 후 ESP32 다시 연결

### 문제 2: 설치 후에도 인식 안 됨
**해결**:
1. ESP32를 **분리**
2. **장치 관리자**에서 **보기 → 숨겨진 장치 표시**
3. **알 수 없는 장치** 또는 **느낌표(!)** 항목 찾기
4. **우클릭 → 제거** (드라이버도 함께 제거 옵션 체크)
5. PC **재부팅**
6. ESP32 다시 연결

### 문제 3: "드라이버 서명" 오류 (Windows 10/11)
**해결**:
1. **시작 메뉴** → **설정** → **업데이트 및 보안**
2. **복구** → **고급 시작** → **지금 다시 시작**
3. **문제 해결** → **고급 옵션** → **시작 설정** → **다시 시작**
4. **F7 키** 눌러서 **드라이버 서명 적용 안 함** 선택
5. PC 재부팅 후 드라이버 재설치

### 문제 4: 다른 COM 포트로 인식됨
**해결**:
- 문제 없음! COM 포트 번호는 PC마다 다를 수 있습니다.
- `config/settings.json`에서 올바른 COM 번호로 수정하면 됩니다.

### 문제 5: Windows 7/8 사용자
**해결**:
- Windows 7/8은 자동 인식이 안 될 수 있습니다.
- 위 방법으로 수동 설치 필요

## 📝 다음 단계

드라이버 설치가 완료되면:

1. ✅ **COM 포트 번호 확인** (장치 관리자에서)
2. ✅ **설정 파일 수정**: `config/settings.json`에서 `"port": "COM3"` 부분을 실제 COM 번호로 변경
3. ✅ **Arduino IDE 설정** 시작 (`QUICK_START.md` 참고)

## 🔗 참고 링크

- **WCH 공식 사이트**: http://www.wch.cn
- **CH340 데이터시트**: http://www.wch.cn/downloads/CH340DS1_PDF.html
- **드라이버 다운로드**: http://www.wch.cn/downloads/CH341SER_EXE.html

---

**주의**: 드라이버는 ESP32를 연결하기 **전** 또는 **후**에 설치해도 됩니다. 하지만 연결 전에 설치하는 것이 더 깔끔합니다.












